<div *ngIf="resumenAbiertas" class="surface-card p-4 mb-4 shadow-2 border-round max-w-4xl mx-auto">
    <h3 class="text-xl font-semibold mb-2 text-center">{{ resumenAbiertas.pregunta }}</h3>
    <p class="mb-4">{{ resumenAbiertas.resumen }}</p>
    <div class="flex flex-wrap gap-2 justify-center">
        <p-chip *ngFor="let palabra of resumenAbiertas.palabrasClave" [label]="palabra"></p-chip>
    </div>
</div>

<div *ngIf="estadisticas.length === 0" class="text-center text-lg text-gray-500 mt-5">
    No hay estadÃ­sticas disponibles.
</div>

<div *ngIf="estadisticas.length > 0" class="flex flex-wrap justify-content-center gap-4">
    <div *ngFor="let estadistica of estadisticas" class="surface-card shadow-2 border-round p-3"
        style="flex: 1 1 30%; min-width: 280px; max-width: 100%; box-sizing: border-box;">

        <p class="font-semibold text-center mb-3">{{ estadistica.pregunta }}</p>

        <p-chart [type]="estadistica.chartType === 'bar' ? 'bar' : 'pie'" [data]="estadistica.chartData" [options]="estadistica.chartType === 'bar'
                ? { indexAxis: 'y', responsive: true, maintainAspectRatio: false }
                : { responsive: true, maintainAspectRatio: false }" style="width: 100%; height: 300px;">
        </p-chart>
    </div>
</div>